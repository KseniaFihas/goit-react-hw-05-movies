{"version":3,"file":"static/js/887.f5787fef.chunk.js","mappings":"sQACA,EAAuB,2BAAvB,EAA0D,4BAA1D,EAA+F,6B,SCkC/F,EA/BqB,SAAC,GAAkB,IAAhBA,EAAe,EAAfA,SActB,OACE,kBAAMC,UAAWC,EAAUF,SAdR,SAAAG,GACnBA,EAAEC,iBAEF,IAAMC,EAAQF,EAAEG,OAAOC,SAASF,MAAMG,MAEjCH,GAKLL,EAASK,GACTF,EAAEG,OAAOG,SALPC,EAAAA,GAAAA,MAAY,yBAMf,EAEC,WACE,kBACET,UAAWC,EACXS,KAAK,QACLC,KAAK,OACLC,YAAY,mBAEd,mBAAQZ,UAAWC,EAAYU,KAAK,SAApC,sBAKL,EC9BD,EAA0B,wBAA1B,EAA0D,sBAA1D,EAAuF,qBAAvF,EAAwH,0BAAxH,EAAyJ,qBCgEzJ,EAzDe,WACb,OAA4BE,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WAAO,IAAD,EACRjB,EAAK,UAAGa,EAAaK,IAAI,gBAApB,QAAgC,GAErCC,EAAQ,mCAAG,gHAEaC,EAAAA,EAAAA,IAAiBpB,GAF9B,gBAIU,KAFfqB,EAFK,EAELA,SAEIC,QACVjB,EAAAA,GAAAA,UAEAM,EAAU,KAEVA,EAAUU,GATC,gDAYbhB,EAAAA,GAAAA,MAAY,KAAMkB,SAClBZ,EAAU,IAbG,yDAAH,qDAiBdQ,GACD,GAAE,CAACN,IAMJ,OACE,2BACE,iBAAKjB,UAAWC,EAAhB,WACE,eAAID,UAAWC,EAAf,0BAEA,SAAC,EAAD,CAAcF,SATC,SAAAK,GACnBc,EAAgB,CAAEd,MAAAA,GACnB,KASK,eAAIJ,UAAWC,EAAf,SACGa,EAAOc,KAAI,SAAAC,GAAK,OACf,eAAI7B,UAAWC,EAAf,UACE,SAAC,KAAD,CACED,UAAWC,EACX6B,GAAE,kBAAaD,EAAME,IACrBC,MAAO,CAAEC,KAAMd,GAHjB,SAKGU,EAAMK,SANwBL,EAAME,GAD1B,UAe1B,C,+LC7DKI,EAAM,6BACNC,EAAU,mCAEHC,EAAgB,mCAAG,sGACPC,EAAAA,EAAAA,IAAA,UAClBH,EADkB,yCACkBC,IAFX,uBACtBG,EADsB,EACtBA,KADsB,kBAIvBA,GAJuB,2CAAH,qDAOhBf,EAAgB,mCAAG,WAAMpB,GAAN,yFACPkC,EAAAA,EAAAA,IAAA,UAClBH,EADkB,mCACYC,EADZ,iCAC4ChC,EAD5C,gCADO,uBACtBmC,EADsB,EACtBA,KADsB,kBAIvBA,GAJuB,2CAAH,sDAOhBC,EAAc,mCAAG,WAAMC,GAAN,yFACLH,EAAAA,EAAAA,IAAA,UAClBH,EADkB,oBACHM,EADG,oBACgBL,EADhB,oBADK,uBACpBG,EADoB,EACpBA,KADoB,kBAIrBA,GAJqB,2CAAH,sDAOdG,EAAc,mCAAG,WAAMD,GAAN,yFACLH,EAAAA,EAAAA,IAAA,UAClBH,EADkB,oBACHM,EADG,4BACwBL,EADxB,oBADK,uBACpBG,EADoB,EACpBA,KADoB,kBAIrBA,GAJqB,2CAAH,sDAOdI,EAAgB,mCAAG,WAAMF,GAAN,yFACPH,EAAAA,EAAAA,IAAA,UAClBH,EADkB,oBACHM,EADG,4BACwBL,EADxB,2BADO,uBACtBG,EADsB,EACtBA,KADsB,kBAIvBA,GAJuB,2CAAH,qD","sources":["webpack://react-homework-template/./src/components/SearchMovies/SearchMovies.module.css?b223","components/SearchMovies/SearchMovies.jsx","webpack://react-homework-template/./src/components/Pages/Movies.module.css?cab4","components/Pages/Movies.jsx","service/Api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchMovies_form__Aa9iv\",\"input\":\"SearchMovies_input__1c5BI\",\"button\":\"SearchMovies_button__tDOhz\"};","import PropTypes from 'prop-types';\nimport { toast } from 'react-hot-toast';\nimport css from './SearchMovies.module.css';\n\nconst SearchMovies = ({ onSubmit }) => {\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    const query = e.target.elements.query.value;\n\n    if (!query) {\n      toast.error('Please enter something');\n      return;\n    }\n\n    onSubmit(query);\n    e.target.reset();\n  };\n  return (\n    <form className={css.form} onSubmit={handleSubmit}>\n      <input\n        className={css.input}\n        name=\"query\"\n        type=\"text\"\n        placeholder=\"Search movies\"\n      />\n      <button className={css.button} type=\"submit\">\n        Search\n      </button>\n    </form>\n  );\n};\n\nSearchMovies.propTypes = { onSubmit: PropTypes.func.isRequired };\n\nexport default SearchMovies;\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"Movies_section__aZeKd\",\"title\":\"Movies_title__hjO5p\",\"list\":\"Movies_list__o8qJ0\",\"list_item\":\"Movies_list_item__pUknu\",\"link\":\"Movies_link__yIOlB\"};","import React, { useState, useEffect } from 'react';\nimport { useSearchParams, useLocation } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\nimport { Link } from 'react-router-dom';\nimport { fetchMovieByName } from '../../service/Api';\nimport SearchMovies from '../SearchMovies/SearchMovies';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n\n  useEffect(() => {\n    const query = searchParams.get('query') ?? '';\n\n    const getMovie = async () => {\n      try {\n        const { results } = await fetchMovieByName(query);\n\n        if (results.length === 0) {\n          toast.dismiss();\n          // toast.error('No movies found');\n          setMovies([]);\n        } else {\n          setMovies(results);\n        }\n      } catch (error) {\n        toast.error(error.message);\n        setMovies([]);\n      }\n    };\n\n    getMovie();\n  }, [searchParams]);\n\n  const handleSubmit = query => {\n    setSearchParams({ query });\n  };\n\n  return (\n    <main>\n      <div className={css.section}>\n        <h2 className={css.title}>Movies Page</h2>\n\n        <SearchMovies onSubmit={handleSubmit} />\n\n        <ul className={css.list}>\n          {movies.map(movie => (\n            <li className={css.list_item} key={movie.id}>\n              <Link\n                className={css.link}\n                to={`/movies/${movie.id}`}\n                state={{ from: location }}\n              >\n                {movie.title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </main>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst URL = 'https://api.themoviedb.org';\nconst API_KEY = '1f217402d118ac3a6682f0a7cf4c121b';\n\nexport const fetchTrendMovies = async () => {\n  const { data } = await axios.get(\n    `${URL}/3/trending/movie/day?api_key=${API_KEY}`\n  );\n  return data;\n};\n\nexport const fetchMovieByName = async query => {\n  const { data } = await axios.get(\n    `${URL}/3/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n  return data;\n};\n\nexport const fetchMovieByID = async movieId => {\n  const { data } = await axios.get(\n    `${URL}/3/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n  );\n  return data;\n};\n\nexport const fetchMovieCast = async movieId => {\n  const { data } = await axios.get(\n    `${URL}/3/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return data;\n};\n\nexport const fetchMovieRevies = async movieId => {\n  const { data } = await axios.get(\n    `${URL}/3/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n  return data;\n};\n"],"names":["onSubmit","className","css","e","preventDefault","query","target","elements","value","reset","toast","name","type","placeholder","useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","location","useLocation","useEffect","get","getMovie","fetchMovieByName","results","length","message","map","movie","to","id","state","from","title","URL","API_KEY","fetchTrendMovies","axios","data","fetchMovieByID","movieId","fetchMovieCast","fetchMovieRevies"],"sourceRoot":""}